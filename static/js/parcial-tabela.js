const CHART = document.getElementById("chart"); Chart.defaults.global.animation.duration = 1000; Chart.plugins.register({  beforeUpdate: function(chart) { if (chart.options.sort) { let labels = chart.data.labels;  let dataArray = chart.data.datasets[0].data.slice();  let mapValueLabel = {};  dataArray.forEach((value, index) => {    mapValueLabel[value] = labels[index];  });  dataArray.sort((a, b) => b - a);  let meta = chart.getDatasetMeta(0);  let newLabels = [];  dataArray.forEach((a, i) => {    newLabels[i] = mapValueLabel[a];  });  chart.data.datasets[0].data = dataArray;  chart.data.labels = newLabels;    }  } });  $(document).ready(function(){    var chartdata = {   labels: ['5297680 (GIOVANA KMIECICK)', '5007135 (JOACIL DA SILVA AMORIM)', '5031079 (OZIELEN CASTRO PIRES RAMOS)', '5555280 (PEDRO GABRIEL FERREIRA MONGELOS)', '4992733 (FERNANDO ALMEIDA DE ARRUDA)', '5126363 (PATRICK ALVES DOS SANTOS)', '5005329 (EDLEUZA SANTOS MARTINS DE OLIVEIRA)', '5020360 (ALECSSANDRO CARVALHO CESAR)', '5396980 (THIAGO RODRIGUES DA SILVA)', '5210330 (MILCO DANIEL YANCEL MUJICA)', '600640 (ELIZABETE MARIA DO NASCIMENTO MARQUES)', '5040671 (EDVALDO FELICIANO DE OLIVEIRA)', '5317541 (ALESSANDRO PAULO DE OLIVEIRA)', '5367743 (ANTONIO CARLOS DA COSTA)', '5040744 (THIAGO RAFFAEL DE MORAES)'],    datasets: [{    label: "LEITURAS DE AUDITORIA",    data: ['1045', '821', '816', '705', '550', '542', '515', '500', '500', '495', '405', '375', '342', '288', '219'],    backgroundColor: ["#4b4268", "#b15928", "#fb9a99", "#cab2d6", "#e31a1c", "#b2df8a", "#ff7f00", "#33a02c", "#1f78b4","#0563b5","#ac99e9","#5b762b", "#eb005b","#3a2e33","#35cbba","#284208","#66932f","#661e06","#000000","#65746b","#011278","#3a3d50","#919299","#d9b728","#1f5e6e","#c38280","#661411","#44a0f7"],    }] };   var barGraph = new Chart(CHART, {  type: "horizontalBar" ,  data: chartdata,  options: {    scales: {  xAxes: [{    ticks: {  beginAtZero: true    }  }] }  }    }); document.getElementById("shuffle").addEventListener("click", function() { barGraph.options.sort = true; barGraph.update(); barGraph.options.sort = false; }); });